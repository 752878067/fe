# 对象 Object

对象是一些相互关联的数据和功能(通常由若干变量和函数组成，被称为对象的属性和方法)的集合。

💡 在某些场合特指恋爱的对方。

## 声明对象
最常见的声明对象的方式是对象字面量，即使用 `{}` 声明。
```javascript
const 宝贝 = [{ 名字: { 中文: '周小凌', 英文: 'Hathaway' }, 性别: '女' }];

const 周杰伦 = {
  名字: { 中文: '周杰伦', 英文: 'Jay' },
  身高: 175,
  子女: 宝贝,
  作品: ['星晴', '双节棍', '七里香', '简单爱', '青花瓷', '告白气球'],
  公司: { 名字: '杰威尔音乐有限公司', 所在地: '台北', 创办年份: 2007 },
  口头禅() {
    return '哎哟，不错哦！';
  },
  自我介绍: function(语言 = '中文') {
    return 语言 === '中文' ? `大家好，我是${this.名字.中文}。` : `Hi, I'm ${this.名字.英文}.`;
  }
};

const 昆凌 = {
  名字: { 中文: '昆凌', 英文: 'Hannah' },
  身高: 165,
  子女: 宝贝,
  猫步() {
    return '🐈🐈🐈🐈🐈🐈🐈🐈🐈🐈🐈🐈';
  },
  分娩: function(婴儿性别, 中英文名) {
    this.子女.push({ 性别: 婴儿性别, 名字: 中英文名 });
  },
  自我介绍: function(语言 = '中文') {
    return 语言 === '中文' ? `大家好，我是${this.名字.中文}。` : `Hi, I'm ${this.名字.英文}.`;
  }
};
```

## 访问对象
通过 `.` 访问
```javascript
> 周杰伦.名字.英文
→ "Jay"

> 周杰伦.公司.名字
→ "杰威尔音乐有限公司"

> 周杰伦.作品
→ ["星晴", "双节棍", "七里香", "简单爱", "青花瓷", "告白气球"]

> 周杰伦.口头禅()
→ 哎哟，不错哦！

> 昆凌.身高
→ 165

> 昆凌.子女
→ [{ 名字: { 中文: '周小凌', 英文: 'Hathaway' }, 性别: '女' }]

> 昆凌.子女[0].名字.英文
→ "Hathaway"

> 昆凌.猫步()
→ "🐈🐈🐈🐈🐈🐈🐈🐈🐈🐈🐈🐈"
```

通过 `[]` 访问
```javascript
> 周杰伦['名字']['英文']
→ "Jay"

> 周杰伦['公司']['所在地']
→ "台北"

> 周杰伦['自我介绍']()
→ "大家好，我是周杰伦。"
```

## 修改对象
```javascript
> 周杰伦.年龄 = 38    // 添加年龄
→ 38

> 周杰伦.年龄 -= 18   // 回到过去
→ 20

> 周杰伦.妻子 = 昆凌;
→ {名字: Object, 身高: 165, 子女: Array(1), 猫步: function, 分娩: function}

> 周杰伦.妻子.名字.中文
→ "昆凌"

> 昆凌['丈夫'] = 周杰伦
→ {名字: Object, 身高: 175, 子女: Array(1), 作品: Array(6), 公司: Object}

> 昆凌['丈夫'].名字.中文
→ "周杰伦"
```

⚠️ `昆凌.子女` 是对 `宝贝` 数组的**引用**(Reference)，因此以下代码会直接修改 `宝贝`。
```javascript
> 昆凌.子女[0].名字.中文 = '小周周'
→ "小周周"

> 宝贝[0]
→ { 名字: { 中文: '小周周', 英文: 'Hathaway' }, 性别: '女' }

> 昆凌.子女.push({ 名字: { 中文: '周小伦', 英文: 'Jason' }, 性别: '男' })
→ 2

> 宝贝
→ [{ 名字: { 中文: '小周周', 英文: 'Hathaway' }, 性别: '女' }
   { 名字: { 中文: '周小伦', 英文: 'Jason'    }, 性别: '男' }]

> 周杰伦.子女.length
→ 2
```
以上 `昆凌.子女.push()` 操作其实在 `昆凌.分娩()` 已经实现了，因此可以写成
```javascript
昆凌.分娩('男', { 中文: '周小伦', 英文: 'Jason' });
```

### delete
`delete` 可用于删除对象的属性和方法。
```javascript
> delete 周杰伦.作品
→ true

> 周杰伦.作品
→ undefined

> delete 昆凌.猫步
→ true

> 昆凌.猫步
→ undefined
```
💡 `delete` 操作总是返回 `true`，无论属性或方法是否存在。

## this
`this` 指当前对象，因此 `周杰伦.自我介绍()` 里面的 `this` 就是 `周杰伦`，`昆凌.自我介绍()` 里面的 `this` 就是 `昆凌`。

让他们分别自我介绍吧。
```javascript
> 周杰伦.自我介绍()
→ 大家好，我是周杰伦。

> 昆凌.自我介绍()
→ 大家好，我是昆凌。
```

## 遍历对象
通过 `for...in` 可以遍历对象的属性和方法。
```javascript
const 专辑列表 = {
  周杰伦: {
    发行年份: 2000,
    专辑曲目: [
      '可爱女人', '完美主义', '星晴', '娘子', '斗牛', '黑色幽默', 
      '伊斯坦堡', '印地安老斑鸠', '龙卷风', '反方向的钟'
    ],
  },
  范特西: {
    发行年份: 2001,
    专辑曲目: [
      '爱在西元前', '爸我回来了', '简单爱', '忍者', '开不了口', 
      '上海一九四三', '对不起', '威廉古堡', '双截棍', '安静'
    ]
  },
  八度空间: {
    发行年份: 2002,
    专辑曲目: [
      '半兽人', '半岛铁盒', '暗号', '龙拳', '火车叨位去',
      '分裂', '爷爷泡的茶', '回到过去', '米兰的小铁匠', '最后的战役'
    ]
  },
  叶惠美: {
    发行年份: 2003,
    专辑曲目: [
      '以父之名', '儒夫', '晴天', '三年二班', '东风破', '你听得到',
      '同一种调调', '她的睫毛', '爱情悬崖', '梯田', '双刀'
    ]
  },
  七里香: {
    发行年份: 2004,
    专辑曲目: [
      '我的地盘', '七里香', '借口', '外婆', '将军',
      '搁浅', '乱舞春秋', '困兽之斗', '园游会', '止战之殇'
    ]
  },
  十一月的萧邦: {
    发行年份: 2005,
    专辑曲目: [
      '夜曲', '蓝色风暴', '发如雪', '黑色毛衣', '四面楚歌', '枫', 
      '浪漫手机', '逆鳞', '麦芽糖', '珊瑚海', '漂移', '一路向北'
    ]
  },
  依然范特西: {
    发行年份: 2006,
    专辑曲目: [
      '夜的第七章', '听妈妈的话', '千里之外', '本草纲目', '退后',
      '红模仿', '心雨', '白色风车', '迷迭香', '菊花台'
    ]
  },
  我很忙: {
    发行年份: 2007,
    专辑曲目: [
      '牛仔很忙', '彩虹', '青花瓷', '阳光宅男', '蒲公英的约定',
      '无双', '我不配', '扯', '甜甜的', '最长的电影'
    ]
  },
  魔杰座: {
    发行年份: 2008,
    专辑曲目: [
      '龙战骑士', '给我一首歌的时间', '蛇舞', '花海', '魔术先生',
      '说好的幸福呢', '兰亭序', '流浪诗人', '时光机', '乔克叔叔', '稻香'
    ]
  },
  跨時代: {
    发行年份: 2010,
    专辑曲目: [
      '跨时代', '说了再见', '烟花易冷', '免费教学录影带', '好久不见', '雨下一整晚',
      '嘻哈空姐', '我落泪·情绪零碎', '爱的飞行日记', '自导自演', '超人不会飞'
    ]
  },
  惊叹号: {
    发行年份: 2011,
    专辑曲目: [
      '惊叹号', '迷魂曲', 'Mine Mine', '公主病', '你好吗', '疗伤烧肉粽',
      '琴伤', '水手怕水', '世界未末日', '皮影戏', '超跑女神'
    ]
  },
  十二新作: {
    发行年份: 2012,
    专辑曲目: [
      '四季列车', '手语', '公公偏头痛', '明明就', '傻笑', '比较大的大提琴',
      '爱你没差', '红尘客栈', '梦想启动', '大笨钟', '哪里都是你', '乌克丽丽'
    ]
  },
  "哎呦，不错哦": {
    发行年份: 2014,
    专辑曲目: [
      '阳明山', '窃爱', '算什么男人', '天涯过客', '怎么了', '一口气全念对',
      '我要夏天', '手写的从前', '鞋子特大号', '听爸爸的話', '美人鱼', '听见下雨的声音'
    ]
  },
  周杰伦的床边故事: {
    发行年份: 2016,
    专辑曲目: [
      '床边故事', '说走就走', '一点点', '前世情人', '英雄', '不该',
      '土耳其冰激凌', '告白气球', 'Now you See me', '爱情废柴'
    ]
  }
};
```

## new Object()
```javascript
var wyf = new Object();
wyf.name = '吴亦凡';
wyf.gender = '男';
wyf.intro = function() {
  return `大家好，我是${this.name}。`
};

new Object({ name: '吴亦凡', gender: '男' })
```

## 常用方法
`Object.keys()` `ES5`

`Object.create()` `ES5`

## 参考链接
* http://www.objectplayground.com
* https://www.douban.com/doulist/234050
* http://2ality.com/2015/08/object-literals-es5.html
* https://mathiasbynens.be/notes/javascript-identifiers
* https://mathiasbynens.be/notes/javascript-identifiers-es6
* https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Objects/Basics
* https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Objects/Object-oriented_JS
* https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/keys
* https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/create
* https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Method_definitions
* https://github.com/getify/You-Dont-Know-JS/blob/master/this%20&%20object%20prototypes/README.md

